<!DOCTYPE html>
<html>
<head>
    <title>Live Math Heart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- MathJax -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: black;
            color: #ff4d6d;
            text-align: center;
            font-family: Arial, sans-serif;
        }

        h1 {
            font-size: clamp(22px, 5vw, 34px);
            margin-top: 30px;
        }

        p {
            font-size: clamp(14px, 4vw, 18px);
            color: white;
            margin: 10px 15px;
        }

        #formula {
            font-size: clamp(16px, 4vw, 22px);
            margin-top: 10px;
        }

        canvas {
            display: block;
            margin: 0px auto;
        }
    </style>
</head>
<body>

<h1>Hello cutiee ‚ù§Ô∏è</h1>
<p>As k keeps increasing, so does my love for you ‚Äî infinite and beautiful ü§≠</p>

<div id="formula" >
\( y = |x|^{\frac{2}{3}} + 0.9 \sin(kx)\sqrt{3 - x^2} \)
</div>

<canvas id="heartCanvas"></canvas>

<script>
const canvas = document.getElementById("heartCanvas");
const ctx = canvas.getContext("2d");

let k = 1;

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight * 0.6;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

function drawHeart() {

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.beginPath();
    ctx.strokeStyle = "#ff4d6d";
    ctx.lineWidth = 2;

    const scale = Math.min(canvas.width, canvas.height) / 3.5;

    for (let x = -Math.sqrt(3); x <= Math.sqrt(3); x += 0.002) {

        let y =
            Math.pow(Math.abs(x), 2/3) +
            0.9 * Math.sin(k * x) * Math.sqrt(3 - x*x);

        const verticalOffset = 70; // change this value

let canvasX = canvas.width/2 + x * scale;
let canvasY = canvas.height/2 + verticalOffset - y * scale;

        if (x === -Math.sqrt(3)) {
            ctx.moveTo(canvasX, canvasY);
        } else {
            ctx.lineTo(canvasX, canvasY);
        }
    }

    ctx.stroke();

    // Update formula with animated k
    document.getElementById("formula").innerHTML =
        `\\( y = |x|^{\\frac{2}{3}} + 0.9 \\sin(${k.toFixed(2)}x)\\sqrt{3 - x^2} \\)`;

    MathJax.typesetPromise();

    k += 0.10;

    requestAnimationFrame(drawHeart);
}

drawHeart();
</script>

</body>
</html>
